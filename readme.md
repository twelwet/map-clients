## Настройка работы сервера карт

* установить: ```nodejs``` и ```npm``` (если не установлено);
* создать в корне файл ```.env``` с содержимым: ```SERVER_PORT=5000```;
* в терминале ввести: ```npm install``` (установка зависимостей);
* установить npm-пакет: ```npm install -g browserify```;
* убедиться что папка ```data``` имеет следующую структуру:
  * ```data/csv/``` (исходные таблицы с данными ```csv```-файлы),
    * ```nodes.csv``` (таблица с узлами связи),
    * ```objects.csv``` (таблица с объектами на карте);
  * ```data/json```
    * ```nodes.csv``` (файл генерируется из data/csv скриптом ```prepare-json-script.js```),
    * ```objects.csv``` (файл генерируется из data/csv скриптом ```prepare-json-script.js```);
    * ```fiber-lines-backbone.json``` (файл экспорттируется из Яндекс-карт в формате ```geojson```, расширение меняется вручную на ```json```),
    * ```fiber-lines-city-net.json``` (файл экспорттируется из Яндекс-карт в формате ```geojson```, расширение меняется вручную на ```json```);
* если ```csv```-файлов нет, то:
  * следует скопировать в папку ```data/csv``` исходные файлы ```nodes.csv```, ```objects.csv```;
  * запустить скрипт в терминале: ```node src/prepare-json-script.js``` который сгенерирует  json-файлы:
    * ```nodes.json```
    * ```objects.json```
* поправить файл: ```node_modules/leaflet/dist/leaflet.css```:
  * 351 и 356 стр: заменить ```images/layers-2x.png``` на ```images/layers.svg```;
* в терминале ввести: ```npm run build``` (копирование скриптов и стилей в public);
* в терминале ввести: ```npm run server``` (сервер должен быть доступен на ```http://localhost:8080```).
